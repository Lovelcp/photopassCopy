package com.pictureair.photopass.activity;import android.app.Activity;import android.content.Context;import android.net.ConnectivityManager;import android.net.NetworkInfo;import android.os.Bundle;import android.view.View;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.TextView;import com.pictureair.photopass.R;import com.pictureair.photopass.util.AppManager;import com.pictureair.photopass.util.UmengUtil;import java.util.Objects;/** * Activity 基类 * 1.执行友盟统计 * 2.使用AppManager管理Activity * * @author milo 2015-11-18 */public class BaseActivity extends Activity {    private Context context;    //Top bar    TextView topLeftTv, topTitle, topRightTv;    ImageView topLeftIv, topRightIv;    LinearLayout topLeftView, topRightView;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        AppManager.getInstance().addActivity(this);        this.context = this;    }    /**     * 设置头部左边的控件     *     * @param value 引用的资源文件。例如：R.string.text     * @param isImg 图片：true；文字：false。     */    protected void setTopLeftValueAnd(int value, Boolean isImg) {        topLeftView = (LinearLayout) this.findViewById(R.id.topLeftView);        if (isImg) {            topLeftIv = (ImageView) this.findViewById(R.id.topLeft_iv);            topLeftIv.setImageResource(value);            topLeftIv.setVisibility(View.VISIBLE);        } else {            topLeftTv = (TextView) this.findViewById(R.id.topLeft_tv);            topLeftTv.setText(value);            topLeftTv.setVisibility(View.VISIBLE);        }    }    /**     * 设置头部右边的控件     *     * @param value 引用的资源文件。例如：R.string.text     * @param isImg 图片：true；文字：false。     */    protected void setTopRightValueAndShow(int value, Boolean isImg) {        topRightView = (LinearLayout) this.findViewById(R.id.topRightView);        if (isImg) {            topRightIv = (ImageView) this.findViewById(R.id.topRight_iv);            topRightIv.setImageResource(value);            topRightIv.setVisibility(View.VISIBLE);        } else {            topRightTv = (TextView) this.findViewById(R.id.topRight_tv);            topRightTv.setText(value);            topRightTv.setVisibility(View.VISIBLE);        }    }    /**     * 设置头部标题     *     * @param value 引用的资源文件。例如：R.string.text     */    protected void setTopRightValueAndShow(int value) {        topTitle = (TextView) this.findViewById(R.id.topTitle);        topTitle.setText(value);    }    /**     * 获取右边控件的TextView     */    protected TextView getTopRightTextView() {        if (null == topRightTv) {            topRightTv = (TextView) this.findViewById(R.id.topRight_tv);            return topRightTv;        }        return topRightTv;    }    protected void TopViewClick(View view) {        switch (view.getId()) {            case R.id.topLeftView:                break;            case R.id.topRightView:                break;            default:                break;        }    }    @Override    protected void onResume() {        super.onResume();        // 统计页面、时长        if (context.getClass() == MainTabActivity.class) {            UmengUtil.onResume(context, true);        } else {            UmengUtil.onResume(context, false);        }    }    @Override    protected void onPause() {        super.onPause();        if (context.getClass() == MainTabActivity.class) {            UmengUtil.onPause(context, true);        } else {            UmengUtil.onPause(context, false);        }    }    @Override    protected void onDestroy() {        super.onDestroy();        AppManager.getInstance().killActivity(this);    }    /**     * 判断网络是否连接     *     * @param act     * @return     */    public static boolean isNetWorkConnect(Context act) {        ConnectivityManager manager = (ConnectivityManager) act.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);        if (manager == null) {            return false;        }        NetworkInfo networkinfo = manager.getActiveNetworkInfo();        if (networkinfo == null || !networkinfo.isAvailable()) {            return false;        }        return true;    }    @Override    protected void attachBaseContext(Context newBase) {        super.attachBaseContext(newBase);    }}